(()=>{var tt=Object.create;var Ie=Object.defineProperty;var ot=Object.getOwnPropertyDescriptor;var nt=Object.getOwnPropertyNames;var it=Object.getPrototypeOf,at=Object.prototype.hasOwnProperty;var ut=e=>Ie(e,"__esModule",{value:!0});var ft=(e,o)=>()=>(o||e((o={exports:{}}).exports,o),o.exports);var st=(e,o,t,r)=>{if(o&&typeof o=="object"||typeof o=="function")for(let n of nt(o))!at.call(e,n)&&(t||n!=="default")&&Ie(e,n,{get:()=>o[n],enumerable:!(r=ot(o,n))||r.enumerable});return e},ct=(e,o)=>st(ut(Ie(e!=null?tt(it(e)):{},"default",!o&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var tr=ft((Pt,re)=>{var De,Me,Le,Fe,Ue,Ge,ze,Ve,Ye,Q,Pe,Be,qe,He,F,Ke,Je,Xe,Ze,$e,Qe,er,rr,ee;(function(e){var o=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(r){e(t(o,t(r)))}):typeof re=="object"&&typeof re.exports=="object"?e(t(o,t(re.exports))):e(t(o));function t(r,n){return r!==o&&(typeof Object.create=="function"?Object.defineProperty(r,"__esModule",{value:!0}):r.__esModule=!0),function(i,a){return r[i]=n?n(i,a):a}}})(function(e){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])};De=function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");o(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)},Me=Object.assign||function(r){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var f in n)Object.prototype.hasOwnProperty.call(n,f)&&(r[f]=n[f])}return r},Le=function(r,n){var i={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&n.indexOf(a)<0&&(i[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,a=Object.getOwnPropertySymbols(r);f<a.length;f++)n.indexOf(a[f])<0&&Object.prototype.propertyIsEnumerable.call(r,a[f])&&(i[a[f]]=r[a[f]]);return i},Fe=function(r,n,i,a){var f=arguments.length,u=f<3?n:a===null?a=Object.getOwnPropertyDescriptor(n,i):a,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(r,n,i,a);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(u=(f<3?s(u):f>3?s(n,i,u):s(n,i))||u);return f>3&&u&&Object.defineProperty(n,i,u),u},Ue=function(r,n){return function(i,a){n(i,a,r)}},Ge=function(r,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,n)},ze=function(r,n,i,a){function f(u){return u instanceof i?u:new i(function(s){s(u)})}return new(i||(i=Promise))(function(u,s){function l(b){try{c(a.next(b))}catch(y){s(y)}}function d(b){try{c(a.throw(b))}catch(y){s(y)}}function c(b){b.done?u(b.value):f(b.value).then(l,d)}c((a=a.apply(r,n||[])).next())})},Ve=function(r,n){var i={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},a,f,u,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(c){return function(b){return d([c,b])}}function d(c){if(a)throw new TypeError("Generator is already executing.");for(;i;)try{if(a=1,f&&(u=c[0]&2?f.return:c[0]?f.throw||((u=f.return)&&u.call(f),0):f.next)&&!(u=u.call(f,c[1])).done)return u;switch(f=0,u&&(c=[c[0]&2,u.value]),c[0]){case 0:case 1:u=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,f=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(u=i.trys,!(u=u.length>0&&u[u.length-1])&&(c[0]===6||c[0]===2)){i=0;continue}if(c[0]===3&&(!u||c[1]>u[0]&&c[1]<u[3])){i.label=c[1];break}if(c[0]===6&&i.label<u[1]){i.label=u[1],u=c;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(c);break}u[2]&&i.ops.pop(),i.trys.pop();continue}c=n.call(r,i)}catch(b){c=[6,b],f=0}finally{a=u=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Ye=function(r,n){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(n,i)&&ee(n,r,i)},ee=Object.create?function(r,n,i,a){a===void 0&&(a=i),Object.defineProperty(r,a,{enumerable:!0,get:function(){return n[i]}})}:function(r,n,i,a){a===void 0&&(a=i),r[a]=n[i]},Q=function(r){var n=typeof Symbol=="function"&&Symbol.iterator,i=n&&r[n],a=0;if(i)return i.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},Pe=function(r,n){var i=typeof Symbol=="function"&&r[Symbol.iterator];if(!i)return r;var a=i.call(r),f,u=[],s;try{for(;(n===void 0||n-- >0)&&!(f=a.next()).done;)u.push(f.value)}catch(l){s={error:l}}finally{try{f&&!f.done&&(i=a.return)&&i.call(a)}finally{if(s)throw s.error}}return u},Be=function(){for(var r=[],n=0;n<arguments.length;n++)r=r.concat(Pe(arguments[n]));return r},qe=function(){for(var r=0,n=0,i=arguments.length;n<i;n++)r+=arguments[n].length;for(var a=Array(r),f=0,n=0;n<i;n++)for(var u=arguments[n],s=0,l=u.length;s<l;s++,f++)a[f]=u[s];return a},He=function(r,n,i){if(i||arguments.length===2)for(var a=0,f=n.length,u;a<f;a++)(u||!(a in n))&&(u||(u=Array.prototype.slice.call(n,0,a)),u[a]=n[a]);return r.concat(u||Array.prototype.slice.call(n))},F=function(r){return this instanceof F?(this.v=r,this):new F(r)},Ke=function(r,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=i.apply(r,n||[]),f,u=[];return f={},s("next"),s("throw"),s("return"),f[Symbol.asyncIterator]=function(){return this},f;function s(p){a[p]&&(f[p]=function(S){return new Promise(function(T,L){u.push([p,S,T,L])>1||l(p,S)})})}function l(p,S){try{d(a[p](S))}catch(T){y(u[0][3],T)}}function d(p){p.value instanceof F?Promise.resolve(p.value.v).then(c,b):y(u[0][2],p)}function c(p){l("next",p)}function b(p){l("throw",p)}function y(p,S){p(S),u.shift(),u.length&&l(u[0][0],u[0][1])}},Je=function(r){var n,i;return n={},a("next"),a("throw",function(f){throw f}),a("return"),n[Symbol.iterator]=function(){return this},n;function a(f,u){n[f]=r[f]?function(s){return(i=!i)?{value:F(r[f](s)),done:f==="return"}:u?u(s):s}:u}},Xe=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r[Symbol.asyncIterator],i;return n?n.call(r):(r=typeof Q=="function"?Q(r):r[Symbol.iterator](),i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i);function a(u){i[u]=r[u]&&function(s){return new Promise(function(l,d){s=r[u](s),f(l,d,s.done,s.value)})}}function f(u,s,l,d){Promise.resolve(d).then(function(c){u({value:c,done:l})},s)}},Ze=function(r,n){return Object.defineProperty?Object.defineProperty(r,"raw",{value:n}):r.raw=n,r};var t=Object.create?function(r,n){Object.defineProperty(r,"default",{enumerable:!0,value:n})}:function(r,n){r.default=n};$e=function(r){if(r&&r.__esModule)return r;var n={};if(r!=null)for(var i in r)i!=="default"&&Object.prototype.hasOwnProperty.call(r,i)&&ee(n,r,i);return t(n,r),n},Qe=function(r){return r&&r.__esModule?r:{default:r}},er=function(r,n,i,a){if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?r!==n||!a:!n.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?a:i==="a"?a.call(r):a?a.value:n.get(r)},rr=function(r,n,i,a,f){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!f)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?r!==n||!f:!n.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?f.call(r,i):f?f.value=i:n.set(r,i),i},e("__extends",De),e("__assign",Me),e("__rest",Le),e("__decorate",Fe),e("__param",Ue),e("__metadata",Ge),e("__awaiter",ze),e("__generator",Ve),e("__exportStar",Ye),e("__createBinding",ee),e("__values",Q),e("__read",Pe),e("__spread",Be),e("__spreadArrays",qe),e("__spreadArray",He),e("__await",F),e("__asyncGenerator",Ke),e("__asyncDelegator",Je),e("__asyncValues",Xe),e("__makeTemplateObject",Ze),e("__importStar",$e),e("__importDefault",Qe),e("__classPrivateFieldGet",er),e("__classPrivateFieldSet",rr)})});var or=ct(tr(),1),{__extends:w,__assign:nr,__rest:kt,__decorate:Rt,__param:Ct,__metadata:Nt,__awaiter:ir,__generator:te,__exportStar:Wt,__createBinding:jt,__values:C,__read:N,__spread:Dt,__spreadArrays:Mt,__spreadArray:W,__await:oe,__asyncGenerator:ar,__asyncDelegator:Lt,__asyncValues:ur,__makeTemplateObject:Ft,__importStar:Ut,__importDefault:Gt,__classPrivateFieldGet:zt,__classPrivateFieldSet:Vt}=or.default;function m(e){return typeof e=="function"}function ne(e){var o=function(r){Error.call(r),r.stack=new Error().stack},t=e(o);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ie=ne(function(e){return function(t){e(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function K(e,o){if(e){var t=e.indexOf(o);0<=t&&e.splice(t,1)}}var k=function(){function e(o){this.initialTeardown=o,this.closed=!1,this._parentage=null,this._teardowns=null}return e.prototype.unsubscribe=function(){var o,t,r,n,i;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var f=C(a),u=f.next();!u.done;u=f.next()){var s=u.value;s.remove(this)}}catch(p){o={error:p}}finally{try{u&&!u.done&&(t=f.return)&&t.call(f)}finally{if(o)throw o.error}}else a.remove(this);var l=this.initialTeardown;if(m(l))try{l()}catch(p){i=p instanceof ie?p.errors:[p]}var d=this._teardowns;if(d){this._teardowns=null;try{for(var c=C(d),b=c.next();!b.done;b=c.next()){var y=b.value;try{fr(y)}catch(p){i=i!=null?i:[],p instanceof ie?i=W(W([],N(i)),N(p.errors)):i.push(p)}}}catch(p){r={error:p}}finally{try{b&&!b.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}}if(i)throw new ie(i)}},e.prototype.add=function(o){var t;if(o&&o!==this)if(this.closed)fr(o);else{if(o instanceof e){if(o.closed||o._hasParent(this))return;o._addParent(this)}(this._teardowns=(t=this._teardowns)!==null&&t!==void 0?t:[]).push(o)}},e.prototype._hasParent=function(o){var t=this._parentage;return t===o||Array.isArray(t)&&t.includes(o)},e.prototype._addParent=function(o){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(o),t):t?[t,o]:o},e.prototype._removeParent=function(o){var t=this._parentage;t===o?this._parentage=null:Array.isArray(t)&&K(t,o)},e.prototype.remove=function(o){var t=this._teardowns;t&&K(t,o),o instanceof e&&o._removeParent(this)},e.EMPTY=function(){var o=new e;return o.closed=!0,o}(),e}();var ke=k.EMPTY;function ae(e){return e instanceof k||e&&"closed"in e&&m(e.remove)&&m(e.add)&&m(e.unsubscribe)}function fr(e){m(e)?e():e.unsubscribe()}var O={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var U={setTimeout:function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var t=U.delegate;return((t==null?void 0:t.setTimeout)||setTimeout).apply(void 0,W([],N(e)))},clearTimeout:function(e){var o=U.delegate;return((o==null?void 0:o.clearTimeout)||clearTimeout)(e)},delegate:void 0};function ue(e){U.setTimeout(function(){var o=O.onUnhandledError;if(o)o(e);else throw e})}function J(){}var sr=function(){return Re("C",void 0,void 0)}();function cr(e){return Re("E",void 0,e)}function pr(e){return Re("N",e,void 0)}function Re(e,o,t){return{kind:e,value:o,error:t}}var j=null;function G(e){if(O.useDeprecatedSynchronousErrorHandling){var o=!j;if(o&&(j={errorThrown:!1,error:null}),e(),o){var t=j,r=t.errorThrown,n=t.error;if(j=null,r)throw n}}else e()}function lr(e){O.useDeprecatedSynchronousErrorHandling&&j&&(j.errorThrown=!0,j.error=e)}var D=function(e){w(o,e);function o(t){var r=e.call(this)||this;return r.isStopped=!1,t?(r.destination=t,ae(t)&&t.add(r)):r.destination=pt,r}return o.create=function(t,r,n){return new fe(t,r,n)},o.prototype.next=function(t){this.isStopped?Ne(pr(t),this):this._next(t)},o.prototype.error=function(t){this.isStopped?Ne(cr(t),this):(this.isStopped=!0,this._error(t))},o.prototype.complete=function(){this.isStopped?Ne(sr,this):(this.isStopped=!0,this._complete())},o.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},o.prototype._next=function(t){this.destination.next(t)},o.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},o.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},o}(k);var fe=function(e){w(o,e);function o(t,r,n){var i=e.call(this)||this,a;if(m(t))a=t;else if(t){a=t.next,r=t.error,n=t.complete;var f;i&&O.useDeprecatedNextContext?(f=Object.create(t),f.unsubscribe=function(){return i.unsubscribe()}):f=t,a=a==null?void 0:a.bind(f),r=r==null?void 0:r.bind(f),n=n==null?void 0:n.bind(f)}return i.destination={next:a?Ce(a,i):J,error:Ce(r!=null?r:mr,i),complete:n?Ce(n,i):J},i}return o}(D);function Ce(e,o){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{e.apply(void 0,W([],N(t)))}catch(n){O.useDeprecatedSynchronousErrorHandling?lr(n):ue(n)}}}function mr(e){throw e}function Ne(e,o){var t=O.onStoppedNotification;t&&U.setTimeout(function(){return t(e,o)})}var pt={closed:!0,next:J,error:mr,complete:J};var z=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function V(e){return e}function dr(e){return e.length===0?V:e.length===1?e[0]:function(t){return e.reduce(function(r,n){return n(r)},t)}}var h=function(){function e(o){o&&(this._subscribe=o)}return e.prototype.lift=function(o){var t=new e;return t.source=this,t.operator=o,t},e.prototype.subscribe=function(o,t,r){var n=this,i=mt(o)?o:new fe(o,t,r);return G(function(){var a=n,f=a.operator,u=a.source;i.add(f?f.call(i,u):u?n._subscribe(i):n._trySubscribe(i))}),i},e.prototype._trySubscribe=function(o){try{return this._subscribe(o)}catch(t){o.error(t)}},e.prototype.forEach=function(o,t){var r=this;return t=br(t),new t(function(n,i){var a=new fe({next:function(f){try{o(f)}catch(u){i(u),a.unsubscribe()}},error:i,complete:n});r.subscribe(a)})},e.prototype._subscribe=function(o){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(o)},e.prototype[z]=function(){return this},e.prototype.pipe=function(){for(var o=[],t=0;t<arguments.length;t++)o[t]=arguments[t];return dr(o)(this)},e.prototype.toPromise=function(o){var t=this;return o=br(o),new o(function(r,n){var i;t.subscribe(function(a){return i=a},function(a){return n(a)},function(){return r(i)})})},e.create=function(o){return new e(o)},e}();function br(e){var o;return(o=e!=null?e:O.Promise)!==null&&o!==void 0?o:Promise}function lt(e){return e&&m(e.next)&&m(e.error)&&m(e.complete)}function mt(e){return e&&e instanceof D||lt(e)&&ae(e)}function dt(e){return m(e==null?void 0:e.lift)}function x(e){return function(o){if(dt(o))return o.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}var _=function(e){w(o,e);function o(t,r,n,i,a){var f=e.call(this,t)||this;return f.onFinalize=a,f._next=r?function(u){try{r(u)}catch(s){t.error(s)}}:e.prototype._next,f._error=i?function(u){try{i(u)}catch(s){t.error(s)}finally{this.unsubscribe()}}:e.prototype._error,f._complete=n?function(){try{n()}catch(u){t.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,f}return o.prototype.unsubscribe=function(){var t,r=this.closed;e.prototype.unsubscribe.call(this),!r&&((t=this.onFinalize)===null||t===void 0||t.call(this))},o}(D);var hr=ne(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}});var Y=function(e){w(o,e);function o(){var t=e.call(this)||this;return t.closed=!1,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return o.prototype.lift=function(t){var r=new se(this,this);return r.operator=t,r},o.prototype._throwIfClosed=function(){if(this.closed)throw new hr},o.prototype.next=function(t){var r=this;G(function(){var n,i;if(r._throwIfClosed(),!r.isStopped){var a=r.observers.slice();try{for(var f=C(a),u=f.next();!u.done;u=f.next()){var s=u.value;s.next(t)}}catch(l){n={error:l}}finally{try{u&&!u.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}}})},o.prototype.error=function(t){var r=this;G(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=t;for(var n=r.observers;n.length;)n.shift().error(t)}})},o.prototype.complete=function(){var t=this;G(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var r=t.observers;r.length;)r.shift().complete()}})},o.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(o.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),o.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},o.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},o.prototype._innerSubscribe=function(t){var r=this,n=r.hasError,i=r.isStopped,a=r.observers;return n||i?ke:(a.push(t),new k(function(){return K(a,t)}))},o.prototype._checkFinalizedStatuses=function(t){var r=this,n=r.hasError,i=r.thrownError,a=r.isStopped;n?t.error(i):a&&t.complete()},o.prototype.asObservable=function(){var t=new h;return t.source=this,t},o.create=function(t,r){return new se(t,r)},o}(h);var se=function(e){w(o,e);function o(t,r){var n=e.call(this)||this;return n.destination=t,n.source=r,n}return o.prototype.next=function(t){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.next)===null||n===void 0||n.call(r,t)},o.prototype.error=function(t){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.error)===null||n===void 0||n.call(r,t)},o.prototype.complete=function(){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||r===void 0||r.call(t)},o.prototype._subscribe=function(t){var r,n;return(n=(r=this.source)===null||r===void 0?void 0:r.subscribe(t))!==null&&n!==void 0?n:ke},o}(Y);var We={now:function(){return(We.delegate||Date).now()},delegate:void 0};var ce=function(e){w(o,e);function o(t,r,n){t===void 0&&(t=1/0),r===void 0&&(r=1/0),n===void 0&&(n=We);var i=e.call(this)||this;return i._bufferSize=t,i._windowTime=r,i._timestampProvider=n,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=r===1/0,i._bufferSize=Math.max(1,t),i._windowTime=Math.max(1,r),i}return o.prototype.next=function(t){var r=this,n=r.isStopped,i=r._buffer,a=r._infiniteTimeWindow,f=r._timestampProvider,u=r._windowTime;n||(i.push(t),!a&&i.push(f.now()+u)),this._trimBuffer(),e.prototype.next.call(this,t)},o.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(t),n=this,i=n._infiniteTimeWindow,a=n._buffer,f=a.slice(),u=0;u<f.length&&!t.closed;u+=i?1:2)t.next(f[u]);return this._checkFinalizedStatuses(t),r},o.prototype._trimBuffer=function(){var t=this,r=t._bufferSize,n=t._timestampProvider,i=t._buffer,a=t._infiniteTimeWindow,f=(a?1:2)*r;if(r<1/0&&f<i.length&&i.splice(0,i.length-f),!a){for(var u=n.now(),s=0,l=1;l<i.length&&i[l]<=u;l+=2)s=l;s&&i.splice(0,s+1)}},o}(Y);var M=new h(function(e){return e.complete()});function vr(e){return e&&m(e.schedule)}function yr(e){return e[e.length-1]}function pe(e){return vr(yr(e))?e.pop():void 0}function xr(e,o){return typeof yr(e)=="number"?e.pop():o}var le=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function me(e){return m(e==null?void 0:e.then)}function de(e){return m(e[z])}function be(e){return Symbol.asyncIterator&&m(e==null?void 0:e[Symbol.asyncIterator])}function he(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function bt(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ve=bt();function ye(e){return m(e==null?void 0:e[ve])}function xe(e){return ar(this,arguments,function(){var t,r,n,i;return te(this,function(a){switch(a.label){case 0:t=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,oe(t.read())];case 3:return r=a.sent(),n=r.value,i=r.done,i?[4,oe(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,oe(n)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function _e(e){return m(e==null?void 0:e.getReader)}function g(e){if(e instanceof h)return e;if(e!=null){if(de(e))return ht(e);if(le(e))return vt(e);if(me(e))return yt(e);if(be(e))return _r(e);if(ye(e))return xt(e);if(_e(e))return _t(e)}throw he(e)}function ht(e){return new h(function(o){var t=e[z]();if(m(t.subscribe))return t.subscribe(o);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function vt(e){return new h(function(o){for(var t=0;t<e.length&&!o.closed;t++)o.next(e[t]);o.complete()})}function yt(e){return new h(function(o){e.then(function(t){o.closed||(o.next(t),o.complete())},function(t){return o.error(t)}).then(null,ue)})}function xt(e){return new h(function(o){var t,r;try{for(var n=C(e),i=n.next();!i.done;i=n.next()){var a=i.value;if(o.next(a),o.closed)return}}catch(f){t={error:f}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}o.complete()})}function _r(e){return new h(function(o){St(e,o).catch(function(t){return o.error(t)})})}function _t(e){return _r(xe(e))}function St(e,o){var t,r,n,i;return ir(this,void 0,void 0,function(){var a,f;return te(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),t=ur(e),u.label=1;case 1:return[4,t.next()];case 2:if(r=u.sent(),!!r.done)return[3,4];if(a=r.value,o.next(a),o.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return f=u.sent(),n={error:f},[3,11];case 6:return u.trys.push([6,,9,10]),r&&!r.done&&(i=t.return)?[4,i.call(t)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(n)throw n.error;return[7];case 10:return[7];case 11:return o.complete(),[2]}})})}function E(e,o,t,r,n){r===void 0&&(r=0),n===void 0&&(n=!1);var i=o.schedule(function(){t(),n?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!n)return i}function Se(e,o){return o===void 0&&(o=0),x(function(t,r){t.subscribe(new _(r,function(n){return E(r,e,function(){return r.next(n)},o)},function(){return E(r,e,function(){return r.complete()},o)},function(n){return E(r,e,function(){return r.error(n)},o)}))})}function ge(e,o){return o===void 0&&(o=0),x(function(t,r){r.add(e.schedule(function(){return t.subscribe(r)},o))})}function Sr(e,o){return g(e).pipe(ge(o),Se(o))}function gr(e,o){return g(e).pipe(ge(o),Se(o))}function wr(e,o){return new h(function(t){var r=0;return o.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}function Er(e,o){return new h(function(t){var r;return E(t,o,function(){r=e[ve](),E(t,o,function(){var n,i,a;try{n=r.next(),i=n.value,a=n.done}catch(f){t.error(f);return}a?t.complete():t.next(i)},0,!0)}),function(){return m(r==null?void 0:r.return)&&r.return()}})}function we(e,o){if(!e)throw new Error("Iterable cannot be null");return new h(function(t){E(t,o,function(){var r=e[Symbol.asyncIterator]();E(t,o,function(){r.next().then(function(n){n.done?t.complete():t.next(n.value)})},0,!0)})})}function Tr(e,o){return we(xe(e),o)}function Or(e,o){if(e!=null){if(de(e))return Sr(e,o);if(le(e))return wr(e,o);if(me(e))return gr(e,o);if(be(e))return we(e,o);if(ye(e))return Er(e,o);if(_e(e))return Tr(e,o)}throw he(e)}function Ee(e,o){return o?Or(e,o):g(e)}function X(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var t=pe(e);return Ee(e,t)}function Z(e,o){return x(function(t,r){var n=0;t.subscribe(new _(r,function(i){r.next(e.call(o,i,n++))}))})}function Ar(e,o,t,r,n,i,a,f){var u=[],s=0,l=0,d=!1,c=function(){d&&!u.length&&!s&&o.complete()},b=function(p){return s<r?y(p):u.push(p)},y=function(p){i&&o.next(p),s++;var S=!1;g(t(p,l++)).subscribe(new _(o,function(T){n==null||n(T),i?b(T):o.next(T)},function(){S=!0},void 0,function(){if(S)try{s--;for(var T=function(){var L=u.shift();a?E(o,a,function(){return y(L)}):y(L)};u.length&&s<r;)T();c()}catch(L){o.error(L)}}))};return e.subscribe(new _(o,b,function(){d=!0,c()})),function(){f==null||f()}}function B(e,o,t){return t===void 0&&(t=1/0),m(o)?B(function(r,n){return Z(function(i,a){return o(r,i,n,a)})(g(e(r,n)))},t):(typeof o=="number"&&(t=o),x(function(r,n){return Ar(r,n,e,t)}))}function Ir(e){return e===void 0&&(e=1/0),B(V,e)}function je(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var t=pe(e),r=xr(e,1/0),n=e;return n.length?n.length===1?g(n[0]):Ir(r)(Ee(n,t)):M}function P(e,o){return x(function(t,r){var n=0;t.subscribe(new _(r,function(i){return e.call(o,i,n++)&&r.next(i)}))})}function Te(e){return e<=0?function(){return M}:x(function(o,t){var r=0;o.subscribe(new _(t,function(n){++r<=e&&(t.next(n),e<=r&&t.complete())}))})}function q(e,o){return x(function(t,r){var n=null,i=0,a=!1,f=function(){return a&&!n&&r.complete()};t.subscribe(new _(r,function(u){n==null||n.unsubscribe();var s=0,l=i++;g(e(u,l)).subscribe(n=new _(r,function(d){return r.next(o?o(u,d,l,s++):d)},function(){n=null,f()}))},function(){a=!0,f()}))})}function R(e,o,t){var r=m(e)||o||t?{next:e,error:o,complete:t}:e;return r?x(function(n,i){var a;(a=r.subscribe)===null||a===void 0||a.call(r);var f=!0;n.subscribe(new _(i,function(u){var s;(s=r.next)===null||s===void 0||s.call(r,u),i.next(u)},function(){var u;f=!1,(u=r.complete)===null||u===void 0||u.call(r),i.complete()},function(u){var s;f=!1,(s=r.error)===null||s===void 0||s.call(r,u),i.error(u)},function(){var u,s;f&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(s=r.finalize)===null||s===void 0||s.call(r)}))}):V}var gt={url:"",deserializer:function(e){return JSON.parse(e.data)},serializer:function(e){return JSON.stringify(e)}},wt="WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }",Pr=function(e){w(o,e);function o(t,r){var n=e.call(this)||this;if(n._socket=null,t instanceof h)n.destination=r,n.source=t;else{var i=n._config=nr({},gt);if(n._output=new Y,typeof t=="string")i.url=t;else for(var a in t)t.hasOwnProperty(a)&&(i[a]=t[a]);if(!i.WebSocketCtor&&WebSocket)i.WebSocketCtor=WebSocket;else if(!i.WebSocketCtor)throw new Error("no WebSocket constructor can be found");n.destination=new ce}return n}return o.prototype.lift=function(t){var r=new o(this._config,this.destination);return r.operator=t,r.source=this,r},o.prototype._resetState=function(){this._socket=null,this.source||(this.destination=new ce),this._output=new Y},o.prototype.multiplex=function(t,r,n){var i=this;return new h(function(a){try{i.next(t())}catch(u){a.error(u)}var f=i.subscribe(function(u){try{n(u)&&a.next(u)}catch(s){a.error(s)}},function(u){return a.error(u)},function(){return a.complete()});return function(){try{i.next(r())}catch(u){a.error(u)}f.unsubscribe()}})},o.prototype._connectSocket=function(){var t=this,r=this._config,n=r.WebSocketCtor,i=r.protocol,a=r.url,f=r.binaryType,u=this._output,s=null;try{s=i?new n(a,i):new n(a),this._socket=s,f&&(this._socket.binaryType=f)}catch(d){u.error(d);return}var l=new k(function(){t._socket=null,s&&s.readyState===1&&s.close()});s.onopen=function(d){var c=t._socket;if(!c){s.close(),t._resetState();return}var b=t._config.openObserver;b&&b.next(d);var y=t.destination;t.destination=D.create(function(p){if(s.readyState===1)try{var S=t._config.serializer;s.send(S(p))}catch(T){t.destination.error(T)}},function(p){var S=t._config.closingObserver;S&&S.next(void 0),p&&p.code?s.close(p.code,p.reason):u.error(new TypeError(wt)),t._resetState()},function(){var p=t._config.closingObserver;p&&p.next(void 0),s.close(),t._resetState()}),y&&y instanceof ce&&l.add(y.subscribe(t.destination))},s.onerror=function(d){t._resetState(),u.error(d)},s.onclose=function(d){s===t._socket&&t._resetState();var c=t._config.closeObserver;c&&c.next(d),d.wasClean?u.complete():u.error(d)},s.onmessage=function(d){try{var c=t._config.deserializer;u.next(c(d))}catch(b){u.error(b)}}},o.prototype._subscribe=function(t){var r=this,n=this.source;return n?n.subscribe(t):(this._socket||this._connectSocket(),this._output.subscribe(t),t.add(function(){var i=r._socket;r._output.observers.length===0&&(i&&(i.readyState===1||i.readyState===0)&&i.close(),r._resetState())}),t)},o.prototype.unsubscribe=function(){var t=this._socket;t&&(t.readyState===1||t.readyState===0)&&t.close(),this._resetState(),e.prototype.unsubscribe.call(this)},o}(se);function H(e){return new Pr(e)}function $(e){return e.event==="willAppear"}function kr(e){return e.event==="willDisappear"}function Rr(e){return e.event==="didReceiveGlobalSettings"}function Cr(e){return e.event==="keyUp"}function Nr(e,o){return{event:e,uuid:o}}function Wr(e,o){return{event:"setGlobalSettings",context:e,payload:o}}var Oe=0;function jr(){return{id:`volumedown_${Oe++}`,type:"request",uri:"ssap://audio/volumeDown"}}function Dr(){return{id:`volumeup_${Oe++}`,type:"request",uri:"ssap://audio/volumeUp"}}function Mr(){return{id:`volumedown_${Oe++}`,type:"request",uri:"ssap://tv/channelUp"}}function Lr(){return{id:`volumedown_${Oe++}`,type:"request",uri:"ssap://tv/channelDown"}}function Fr(){return`type:button
name:ENTER

`}function Ur(){return`type:button
name:1

`}function Gr(){return`type:button
name:2

`}function zr(){return`type:button
name:3

`}function Vr(){return`type:button
name:4

`}function Yr(){return`type:button
name:5

`}function Br(){return`type:button
name:6

`}function qr(){return`type:button
name:7

`}function Hr(){return`type:button
name:8

`}function Kr(){return`type:button
name:9

`}function Jr(){return`type:button
name:0

`}function Xr(){return`type:button
name:BACK

`}function Zr(e){return{event:"getGlobalSettings",context:e}}var Et="register",Tt="register_0",Ot={forcePairing:!1,pairingType:"PROMPT","client-key":"0aa74766b754a07e334b50d240c3ca55",manifest:{manifestVersion:1,appVersion:"1.1",signed:{created:"20140509",appId:"com.lge.test",vendorId:"com.lge",localizedAppNames:{"":"LG Remote App","ko-KR":"\uB9AC\uBAA8\uCEE8 \uC571","zxx-XX":"\u041B\u0413 R\u044D\u043Cot\u044D A\u041F\u041F"},localizedVendorNames:{"":"LG Electronics"},permissions:["TEST_SECURE","CONTROL_INPUT_TEXT","CONTROL_MOUSE_AND_KEYBOARD","READ_INSTALLED_APPS","READ_LGE_SDX","READ_NOTIFICATIONS","SEARCH","WRITE_SETTINGS","WRITE_NOTIFICATION_ALERT","CONTROL_POWER","READ_CURRENT_CHANNEL","READ_RUNNING_APPS","READ_UPDATE_INFO","UPDATE_FROM_REMOTE_APP","READ_LGE_TV_INPUT_EVENTS","READ_TV_CURRENT_TIME"],serial:"2f930e2d2cfe083771f68e4fe7bb07"},permissions:["LAUNCH","LAUNCH_WEBAPP","APP_TO_APP","CLOSE","TEST_OPEN","TEST_PROTECTED","CONTROL_AUDIO","CONTROL_DISPLAY","CONTROL_INPUT_JOYSTICK","CONTROL_INPUT_MEDIA_RECORDING","CONTROL_INPUT_MEDIA_PLAYBACK","CONTROL_INPUT_TV","CONTROL_POWER","READ_APP_STATUS","READ_CURRENT_CHANNEL","READ_INPUT_DEVICE_LIST","READ_NETWORK_STATE","READ_RUNNING_APPS","READ_TV_CHANNEL_LIST","WRITE_NOTIFICATION_TOAST","READ_POWER_STATE","READ_COUNTRY_INFO"],signatures:[{signatureVersion:1,signature:"eyJhbGdvcml0aG0iOiJSU0EtU0hBMjU2Iiwia2V5SWQiOiJ0ZXN0LXNpZ25pbmctY2VydCIsInNpZ25hdHVyZVZlcnNpb24iOjF9.hrVRgjCwXVvE2OOSpDZ58hR+59aFNwYDyjQgKk3auukd7pcegmE2CzPCa0bJ0ZsRAcKkCTJrWo5iDzNhMBWRyaMOv5zWSrthlf7G128qvIlpMT0YNY+n/FaOHE73uLrS/g7swl3/qH/BGFG2Hu4RlL48eb3lLKqTt2xKHdCs6Cd4RMfJPYnzgvI4BNrFUKsjkcu+WD4OO2A27Pq1n50cMchmcaXadJhGrOqH5YmHdOCj5NSHzJYrsW0HPlpuAx/ECMeIZYDh6RMqaFM2DXzdKX9NmmyqzJ3o/0lkk/N97gfVRLW5hA29yeAwaCViZNCP8iC9aO0q9fQojoa7NQnAtw=="}]}},$r={type:Et,id:Tt,payload:Ot};var v=null,A=null;function Qr(e){if(v)return X(v);let o=!0;return I.pipe(P($),q(t=>{var r;return je(((r=I)==null?void 0:r.pipe(P(Rr)))||X(""),X("").pipe(R(()=>{var n;return(n=I)==null?void 0:n.next(Zr(e))}),q(()=>M)))}),P(t=>!!t),Te(1),Z(t=>{let r=typeof t!="string"&&(t==null?void 0:t.payload.settings.url);return v=H(r||"ws://192.168.0.13:3000"),t}),q(t=>{let r=$r;return typeof t!="string"&&(t==null?void 0:t.payload.settings.key)&&(r.payload["client-key"]=t==null?void 0:t.payload.settings.key),v==null||v.next(r),v}),R(t=>{var r;!t.payload["client-key"]||(r=I)==null||r.next(Wr(e,{key:t.payload["client-key"]}))}),R(t=>{!o||(o=!1,v==null||v.next({id:"pointer_1",type:"request",uri:"ssap://com.webos.service.networkinput/getPointerInputSocket"}))}),R(console.log))}function et(){return A||v.pipe(P(e=>e.id==="pointer_1"),Te(1),q(e=>(A=H({url:e.payload.socketPath,serializer:o=>o}),A)))}function rt(){A==null||A.unsubscribe(),A=null,v==null||v.unsubscribe(),v=null}var I=null;function At(e,o,t){I=H(`ws://127.0.0.1:${e}`);let r=[],n;I.next(Nr(t,o)),I.pipe(P(Cr),R(i=>{var l,d;let a={"eu.stumpa.telka.volume_down":jr(),"eu.stumpa.telka.volume_up":Dr(),"eu.stumpa.telka.channel_down":Lr(),"eu.stumpa.telka.channel_up":Mr()},f={"eu.stumpa.telka.enter":Fr(),"eu.stumpa.telka.one":Ur(),"eu.stumpa.telka.two":Gr(),"eu.stumpa.telka.three":zr(),"eu.stumpa.telka.four":Vr(),"eu.stumpa.telka.five":Yr(),"eu.stumpa.telka.six":Br(),"eu.stumpa.telka.seven":qr(),"eu.stumpa.telka.eight":Hr(),"eu.stumpa.telka.nine":Kr(),"eu.stumpa.telka.zero":Jr(),"eu.stumpa.telka.back":Xr()},u=a[i.action],s=f[i.action];u&&((l=v)==null||l.next(u)),s&&((d=A)==null||d.next(s))})).subscribe(console.log),I.pipe(P(i=>$(i)||kr(i))).subscribe(i=>{if($(i)){if(r.push(i),r.length===1){let a=Qr(o).pipe(B(()=>et())).subscribe();n==null||n.add(a)}}else r=r.filter(a=>a.action===i.action),r.length||(n==null||n.unsubscribe(),rt())}),I.subscribe()}window.connectElgatoStreamDeckSocket=At;})();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
