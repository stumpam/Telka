(()=>{var Ke=Object.create;var R=Object.defineProperty,Je=Object.defineProperties,$e=Object.getOwnPropertyDescriptor,Qe=Object.getOwnPropertyDescriptors,Xe=Object.getOwnPropertyNames,ie=Object.getOwnPropertySymbols,Ze=Object.getPrototypeOf,se=Object.prototype.hasOwnProperty,et=Object.prototype.propertyIsEnumerable;var ae=(r,n,t)=>n in r?R(r,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[n]=t,C=(r,n)=>{for(var t in n||(n={}))se.call(n,t)&&ae(r,t,n[t]);if(ie)for(var t of ie(n))et.call(n,t)&&ae(r,t,n[t]);return r},F=(r,n)=>Je(r,Qe(n)),tt=r=>R(r,"__esModule",{value:!0});var rt=(r,n)=>()=>(n||r((n={exports:{}}).exports,n),n.exports);var ot=(r,n,t,e)=>{if(n&&typeof n=="object"||typeof n=="function")for(let o of Xe(n))!se.call(r,o)&&(t||o!=="default")&&R(r,o,{get:()=>n[o],enumerable:!(e=$e(n,o))||e.enumerable});return r},nt=(r,n)=>ot(tt(R(r!=null?Ke(Ze(r)):{},"default",!n&&r&&r.__esModule?{get:()=>r.default,enumerable:!0}:{value:r,enumerable:!0})),r);var Oe=rt((mt,U)=>{var ce,ue,fe,pe,le,me,de,be,he,B,$,ve,ye,xe,P,_e,ge,Se,we,Ee,Te,Ie,Pe,N;(function(r){var n=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(e){r(t(n,t(e)))}):typeof U=="object"&&typeof U.exports=="object"?r(t(n,t(U.exports))):r(t(n));function t(e,o){return e!==n&&(typeof Object.create=="function"?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(i,a){return e[i]=o?o(i,a):a}}})(function(r){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])};ce=function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");n(e,o);function i(){this.constructor=e}e.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)},ue=Object.assign||function(e){for(var o,i=1,a=arguments.length;i<a;i++){o=arguments[i];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(e[c]=o[c])}return e},fe=function(e,o){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&o.indexOf(a)<0&&(i[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(e);c<a.length;c++)o.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(i[a[c]]=e[a[c]]);return i},pe=function(e,o,i,a){var c=arguments.length,s=c<3?o:a===null?a=Object.getOwnPropertyDescriptor(o,i):a,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,o,i,a);else for(var p=e.length-1;p>=0;p--)(u=e[p])&&(s=(c<3?u(s):c>3?u(o,i,s):u(o,i))||s);return c>3&&s&&Object.defineProperty(o,i,s),s},le=function(e,o){return function(i,a){o(i,a,e)}},me=function(e,o){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,o)},de=function(e,o,i,a){function c(s){return s instanceof i?s:new i(function(u){u(s)})}return new(i||(i=Promise))(function(s,u){function p(d){try{f(a.next(d))}catch(h){u(h)}}function l(d){try{f(a.throw(d))}catch(h){u(h)}}function f(d){d.done?s(d.value):c(d.value).then(p,l)}f((a=a.apply(e,o||[])).next())})},be=function(e,o){var i={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},a,c,s,u;return u={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function p(f){return function(d){return l([f,d])}}function l(f){if(a)throw new TypeError("Generator is already executing.");for(;i;)try{if(a=1,c&&(s=f[0]&2?c.return:f[0]?c.throw||((s=c.return)&&s.call(c),0):c.next)&&!(s=s.call(c,f[1])).done)return s;switch(c=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return i.label++,{value:f[1],done:!1};case 5:i.label++,c=f[1],f=[0];continue;case 7:f=i.ops.pop(),i.trys.pop();continue;default:if(s=i.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){i=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){i.label=f[1];break}if(f[0]===6&&i.label<s[1]){i.label=s[1],s=f;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(f);break}s[2]&&i.ops.pop(),i.trys.pop();continue}f=o.call(e,i)}catch(d){f=[6,d],c=0}finally{a=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},he=function(e,o){for(var i in e)i!=="default"&&!Object.prototype.hasOwnProperty.call(o,i)&&N(o,e,i)},N=Object.create?function(e,o,i,a){a===void 0&&(a=i),Object.defineProperty(e,a,{enumerable:!0,get:function(){return o[i]}})}:function(e,o,i,a){a===void 0&&(a=i),e[a]=o[i]},B=function(e){var o=typeof Symbol=="function"&&Symbol.iterator,i=o&&e[o],a=0;if(i)return i.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")},$=function(e,o){var i=typeof Symbol=="function"&&e[Symbol.iterator];if(!i)return e;var a=i.call(e),c,s=[],u;try{for(;(o===void 0||o-- >0)&&!(c=a.next()).done;)s.push(c.value)}catch(p){u={error:p}}finally{try{c&&!c.done&&(i=a.return)&&i.call(a)}finally{if(u)throw u.error}}return s},ve=function(){for(var e=[],o=0;o<arguments.length;o++)e=e.concat($(arguments[o]));return e},ye=function(){for(var e=0,o=0,i=arguments.length;o<i;o++)e+=arguments[o].length;for(var a=Array(e),c=0,o=0;o<i;o++)for(var s=arguments[o],u=0,p=s.length;u<p;u++,c++)a[c]=s[u];return a},xe=function(e,o,i){if(i||arguments.length===2)for(var a=0,c=o.length,s;a<c;a++)(s||!(a in o))&&(s||(s=Array.prototype.slice.call(o,0,a)),s[a]=o[a]);return e.concat(s||Array.prototype.slice.call(o))},P=function(e){return this instanceof P?(this.v=e,this):new P(e)},_e=function(e,o,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=i.apply(e,o||[]),c,s=[];return c={},u("next"),u("throw"),u("return"),c[Symbol.asyncIterator]=function(){return this},c;function u(m){a[m]&&(c[m]=function(x){return new Promise(function(W,qe){s.push([m,x,W,qe])>1||p(m,x)})})}function p(m,x){try{l(a[m](x))}catch(W){h(s[0][3],W)}}function l(m){m.value instanceof P?Promise.resolve(m.value.v).then(f,d):h(s[0][2],m)}function f(m){p("next",m)}function d(m){p("throw",m)}function h(m,x){m(x),s.shift(),s.length&&p(s[0][0],s[0][1])}},ge=function(e){var o,i;return o={},a("next"),a("throw",function(c){throw c}),a("return"),o[Symbol.iterator]=function(){return this},o;function a(c,s){o[c]=e[c]?function(u){return(i=!i)?{value:P(e[c](u)),done:c==="return"}:s?s(u):u}:s}},Se=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=e[Symbol.asyncIterator],i;return o?o.call(e):(e=typeof B=="function"?B(e):e[Symbol.iterator](),i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i);function a(s){i[s]=e[s]&&function(u){return new Promise(function(p,l){u=e[s](u),c(p,l,u.done,u.value)})}}function c(s,u,p,l){Promise.resolve(l).then(function(f){s({value:f,done:p})},u)}},we=function(e,o){return Object.defineProperty?Object.defineProperty(e,"raw",{value:o}):e.raw=o,e};var t=Object.create?function(e,o){Object.defineProperty(e,"default",{enumerable:!0,value:o})}:function(e,o){e.default=o};Ee=function(e){if(e&&e.__esModule)return e;var o={};if(e!=null)for(var i in e)i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)&&N(o,e,i);return t(o,e),o},Te=function(e){return e&&e.__esModule?e:{default:e}},Ie=function(e,o,i,a){if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof o=="function"?e!==o||!a:!o.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?a:i==="a"?a.call(e):a?a.value:o.get(e)},Pe=function(e,o,i,a,c){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof o=="function"?e!==o||!c:!o.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?c.call(e,i):c?c.value=i:o.set(e,i),i},r("__extends",ce),r("__assign",ue),r("__rest",fe),r("__decorate",pe),r("__param",le),r("__metadata",me),r("__awaiter",de),r("__generator",be),r("__exportStar",he),r("__createBinding",N),r("__values",B),r("__read",$),r("__spread",ve),r("__spreadArrays",ye),r("__spreadArray",xe),r("__await",P),r("__asyncGenerator",_e),r("__asyncDelegator",ge),r("__asyncValues",Se),r("__makeTemplateObject",we),r("__importStar",Ee),r("__importDefault",Te),r("__classPrivateFieldGet",Ie),r("__classPrivateFieldSet",Pe)})});var Ae=nt(Oe(),1),{__extends:v,__assign:je,__rest:dt,__decorate:bt,__param:ht,__metadata:vt,__awaiter:yt,__generator:xt,__exportStar:_t,__createBinding:gt,__values:k,__read:w,__spread:St,__spreadArrays:wt,__spreadArray:E,__await:Et,__asyncGenerator:Tt,__asyncDelegator:It,__asyncValues:Pt,__makeTemplateObject:Ot,__importStar:At,__importDefault:jt,__classPrivateFieldGet:Wt,__classPrivateFieldSet:kt}=Ae.default;function b(r){return typeof r=="function"}function G(r){var n=function(e){Error.call(e),e.stack=new Error().stack},t=r(n);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var z=G(function(r){return function(t){r(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(e,o){return o+1+") "+e.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function M(r,n){if(r){var t=r.indexOf(n);0<=t&&r.splice(t,1)}}var g=function(){function r(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._teardowns=null}return r.prototype.unsubscribe=function(){var n,t,e,o,i;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var c=k(a),s=c.next();!s.done;s=c.next()){var u=s.value;u.remove(this)}}catch(m){n={error:m}}finally{try{s&&!s.done&&(t=c.return)&&t.call(c)}finally{if(n)throw n.error}}else a.remove(this);var p=this.initialTeardown;if(b(p))try{p()}catch(m){i=m instanceof z?m.errors:[m]}var l=this._teardowns;if(l){this._teardowns=null;try{for(var f=k(l),d=f.next();!d.done;d=f.next()){var h=d.value;try{We(h)}catch(m){i=i!=null?i:[],m instanceof z?i=E(E([],w(i)),w(m.errors)):i.push(m)}}}catch(m){e={error:m}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(e)throw e.error}}}if(i)throw new z(i)}},r.prototype.add=function(n){var t;if(n&&n!==this)if(this.closed)We(n);else{if(n instanceof r){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._teardowns=(t=this._teardowns)!==null&&t!==void 0?t:[]).push(n)}},r.prototype._hasParent=function(n){var t=this._parentage;return t===n||Array.isArray(t)&&t.includes(n)},r.prototype._addParent=function(n){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n},r.prototype._removeParent=function(n){var t=this._parentage;t===n?this._parentage=null:Array.isArray(t)&&M(t,n)},r.prototype.remove=function(n){var t=this._teardowns;t&&M(t,n),n instanceof r&&n._removeParent(this)},r.EMPTY=function(){var n=new r;return n.closed=!0,n}(),r}();var Q=g.EMPTY;function L(r){return r instanceof g||r&&"closed"in r&&b(r.remove)&&b(r.add)&&b(r.unsubscribe)}function We(r){b(r)?r():r.unsubscribe()}var _={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var O={setTimeout:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var t=O.delegate;return((t==null?void 0:t.setTimeout)||setTimeout).apply(void 0,E([],w(r)))},clearTimeout:function(r){var n=O.delegate;return((n==null?void 0:n.clearTimeout)||clearTimeout)(r)},delegate:void 0};function ke(r){O.setTimeout(function(){var n=_.onUnhandledError;if(n)n(r);else throw r})}function D(){}var Me=function(){return X("C",void 0,void 0)}();function De(r){return X("E",void 0,r)}function Re(r){return X("N",r,void 0)}function X(r,n,t){return{kind:r,value:n,error:t}}var T=null;function A(r){if(_.useDeprecatedSynchronousErrorHandling){var n=!T;if(n&&(T={errorThrown:!1,error:null}),r(),n){var t=T,e=t.errorThrown,o=t.error;if(T=null,e)throw o}}else r()}function Ce(r){_.useDeprecatedSynchronousErrorHandling&&T&&(T.errorThrown=!0,T.error=r)}var I=function(r){v(n,r);function n(t){var e=r.call(this)||this;return e.isStopped=!1,t?(e.destination=t,L(t)&&t.add(e)):e.destination=it,e}return n.create=function(t,e,o){return new H(t,e,o)},n.prototype.next=function(t){this.isStopped?ee(Re(t),this):this._next(t)},n.prototype.error=function(t){this.isStopped?ee(De(t),this):(this.isStopped=!0,this._error(t))},n.prototype.complete=function(){this.isStopped?ee(Me,this):(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this),this.destination=null)},n.prototype._next=function(t){this.destination.next(t)},n.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},n.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},n}(g);var H=function(r){v(n,r);function n(t,e,o){var i=r.call(this)||this,a;if(b(t))a=t;else if(t){a=t.next,e=t.error,o=t.complete;var c;i&&_.useDeprecatedNextContext?(c=Object.create(t),c.unsubscribe=function(){return i.unsubscribe()}):c=t,a=a==null?void 0:a.bind(c),e=e==null?void 0:e.bind(c),o=o==null?void 0:o.bind(c)}return i.destination={next:a?Z(a,i):D,error:Z(e!=null?e:Fe,i),complete:o?Z(o,i):D},i}return n}(I);function Z(r,n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{r.apply(void 0,E([],w(t)))}catch(o){_.useDeprecatedSynchronousErrorHandling?Ce(o):ke(o)}}}function Fe(r){throw r}function ee(r,n){var t=_.onStoppedNotification;t&&O.setTimeout(function(){return t(r,n)})}var it={closed:!0,next:D,error:Fe,complete:D};var Be=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Ne(r){return r}function Ue(r){return r.length===0?Ne:r.length===1?r[0]:function(t){return r.reduce(function(e,o){return o(e)},t)}}var S=function(){function r(n){n&&(this._subscribe=n)}return r.prototype.lift=function(n){var t=new r;return t.source=this,t.operator=n,t},r.prototype.subscribe=function(n,t,e){var o=this,i=st(n)?n:new H(n,t,e);return A(function(){var a=o,c=a.operator,s=a.source;i.add(c?c.call(i,s):s?o._subscribe(i):o._trySubscribe(i))}),i},r.prototype._trySubscribe=function(n){try{return this._subscribe(n)}catch(t){n.error(t)}},r.prototype.forEach=function(n,t){var e=this;return t=Ge(t),new t(function(o,i){var a=new H({next:function(c){try{n(c)}catch(s){i(s),a.unsubscribe()}},error:i,complete:o});e.subscribe(a)})},r.prototype._subscribe=function(n){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(n)},r.prototype[Be]=function(){return this},r.prototype.pipe=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return Ue(n)(this)},r.prototype.toPromise=function(n){var t=this;return n=Ge(n),new n(function(e,o){var i;t.subscribe(function(a){return i=a},function(a){return o(a)},function(){return e(i)})})},r.create=function(n){return new r(n)},r}();function Ge(r){var n;return(n=r!=null?r:_.Promise)!==null&&n!==void 0?n:Promise}function at(r){return r&&b(r.next)&&b(r.error)&&b(r.complete)}function st(r){return r&&r instanceof I||at(r)&&L(r)}function ct(r){return b(r==null?void 0:r.lift)}function V(r){return function(n){if(ct(n))return n.lift(function(t){try{return r(t,this)}catch(e){this.error(e)}});throw new TypeError("Unable to lift unknown Observable type")}}var Y=function(r){v(n,r);function n(t,e,o,i,a){var c=r.call(this,t)||this;return c.onFinalize=a,c._next=e?function(s){try{e(s)}catch(u){t.error(u)}}:r.prototype._next,c._error=i?function(s){try{i(s)}catch(u){t.error(u)}finally{this.unsubscribe()}}:r.prototype._error,c._complete=o?function(){try{o()}catch(s){t.error(s)}finally{this.unsubscribe()}}:r.prototype._complete,c}return n.prototype.unsubscribe=function(){var t,e=this.closed;r.prototype.unsubscribe.call(this),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))},n}(I);var ze=G(function(r){return function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}});var j=function(r){v(n,r);function n(){var t=r.call(this)||this;return t.closed=!1,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return n.prototype.lift=function(t){var e=new q(this,this);return e.operator=t,e},n.prototype._throwIfClosed=function(){if(this.closed)throw new ze},n.prototype.next=function(t){var e=this;A(function(){var o,i;if(e._throwIfClosed(),!e.isStopped){var a=e.observers.slice();try{for(var c=k(a),s=c.next();!s.done;s=c.next()){var u=s.value;u.next(t)}}catch(p){o={error:p}}finally{try{s&&!s.done&&(i=c.return)&&i.call(c)}finally{if(o)throw o.error}}}})},n.prototype.error=function(t){var e=this;A(function(){if(e._throwIfClosed(),!e.isStopped){e.hasError=e.isStopped=!0,e.thrownError=t;for(var o=e.observers;o.length;)o.shift().error(t)}})},n.prototype.complete=function(){var t=this;A(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var e=t.observers;e.length;)e.shift().complete()}})},n.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(n.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),n.prototype._trySubscribe=function(t){return this._throwIfClosed(),r.prototype._trySubscribe.call(this,t)},n.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},n.prototype._innerSubscribe=function(t){var e=this,o=e.hasError,i=e.isStopped,a=e.observers;return o||i?Q:(a.push(t),new g(function(){return M(a,t)}))},n.prototype._checkFinalizedStatuses=function(t){var e=this,o=e.hasError,i=e.thrownError,a=e.isStopped;o?t.error(i):a&&t.complete()},n.prototype.asObservable=function(){var t=new S;return t.source=this,t},n.create=function(t,e){return new q(t,e)},n}(S);var q=function(r){v(n,r);function n(t,e){var o=r.call(this)||this;return o.destination=t,o.source=e,o}return n.prototype.next=function(t){var e,o;(o=(e=this.destination)===null||e===void 0?void 0:e.next)===null||o===void 0||o.call(e,t)},n.prototype.error=function(t){var e,o;(o=(e=this.destination)===null||e===void 0?void 0:e.error)===null||o===void 0||o.call(e,t)},n.prototype.complete=function(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)},n.prototype._subscribe=function(t){var e,o;return(o=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&o!==void 0?o:Q},n}(j);var te={now:function(){return(te.delegate||Date).now()},delegate:void 0};var K=function(r){v(n,r);function n(t,e,o){t===void 0&&(t=1/0),e===void 0&&(e=1/0),o===void 0&&(o=te);var i=r.call(this)||this;return i._bufferSize=t,i._windowTime=e,i._timestampProvider=o,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=e===1/0,i._bufferSize=Math.max(1,t),i._windowTime=Math.max(1,e),i}return n.prototype.next=function(t){var e=this,o=e.isStopped,i=e._buffer,a=e._infiniteTimeWindow,c=e._timestampProvider,s=e._windowTime;o||(i.push(t),!a&&i.push(c.now()+s)),this._trimBuffer(),r.prototype.next.call(this,t)},n.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var e=this._innerSubscribe(t),o=this,i=o._infiniteTimeWindow,a=o._buffer,c=a.slice(),s=0;s<c.length&&!t.closed;s+=i?1:2)t.next(c[s]);return this._checkFinalizedStatuses(t),e},n.prototype._trimBuffer=function(){var t=this,e=t._bufferSize,o=t._timestampProvider,i=t._buffer,a=t._infiniteTimeWindow,c=(a?1:2)*e;if(e<1/0&&c<i.length&&i.splice(0,i.length-c),!a){for(var s=o.now(),u=0,p=1;p<i.length&&i[p]<=s;p+=2)u=p;u&&i.splice(0,u+1)}},n}(j);var Le=new S(function(r){return r.complete()});function re(r,n){return V(function(t,e){var o=0;t.subscribe(new Y(e,function(i){return r.call(n,i,o++)&&e.next(i)}))})}function oe(r){return r<=0?function(){return Le}:V(function(n,t){var e=0;n.subscribe(new Y(t,function(o){++e<=r&&(t.next(o),r<=e&&t.complete())}))})}var ut={url:"",deserializer:function(r){return JSON.parse(r.data)},serializer:function(r){return JSON.stringify(r)}},ft="WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }",He=function(r){v(n,r);function n(t,e){var o=r.call(this)||this;if(o._socket=null,t instanceof S)o.destination=e,o.source=t;else{var i=o._config=je({},ut);if(o._output=new j,typeof t=="string")i.url=t;else for(var a in t)t.hasOwnProperty(a)&&(i[a]=t[a]);if(!i.WebSocketCtor&&WebSocket)i.WebSocketCtor=WebSocket;else if(!i.WebSocketCtor)throw new Error("no WebSocket constructor can be found");o.destination=new K}return o}return n.prototype.lift=function(t){var e=new n(this._config,this.destination);return e.operator=t,e.source=this,e},n.prototype._resetState=function(){this._socket=null,this.source||(this.destination=new K),this._output=new j},n.prototype.multiplex=function(t,e,o){var i=this;return new S(function(a){try{i.next(t())}catch(s){a.error(s)}var c=i.subscribe(function(s){try{o(s)&&a.next(s)}catch(u){a.error(u)}},function(s){return a.error(s)},function(){return a.complete()});return function(){try{i.next(e())}catch(s){a.error(s)}c.unsubscribe()}})},n.prototype._connectSocket=function(){var t=this,e=this._config,o=e.WebSocketCtor,i=e.protocol,a=e.url,c=e.binaryType,s=this._output,u=null;try{u=i?new o(a,i):new o(a),this._socket=u,c&&(this._socket.binaryType=c)}catch(l){s.error(l);return}var p=new g(function(){t._socket=null,u&&u.readyState===1&&u.close()});u.onopen=function(l){var f=t._socket;if(!f){u.close(),t._resetState();return}var d=t._config.openObserver;d&&d.next(l);var h=t.destination;t.destination=I.create(function(m){if(u.readyState===1)try{var x=t._config.serializer;u.send(x(m))}catch(W){t.destination.error(W)}},function(m){var x=t._config.closingObserver;x&&x.next(void 0),m&&m.code?u.close(m.code,m.reason):s.error(new TypeError(ft)),t._resetState()},function(){var m=t._config.closingObserver;m&&m.next(void 0),u.close(),t._resetState()}),h&&h instanceof K&&p.add(h.subscribe(t.destination))},u.onerror=function(l){t._resetState(),s.error(l)},u.onclose=function(l){u===t._socket&&t._resetState();var f=t._config.closeObserver;f&&f.next(l),l.wasClean?s.complete():s.error(l)},u.onmessage=function(l){try{var f=t._config.deserializer;s.next(f(l))}catch(d){s.error(d)}}},n.prototype._subscribe=function(t){var e=this,o=this.source;return o?o.subscribe(t):(this._socket||this._connectSocket(),this._output.subscribe(t),t.add(function(){var i=e._socket;e._output.observers.length===0&&(i&&(i.readyState===1||i.readyState===0)&&i.close(),e._resetState())}),t)},n.prototype.unsubscribe=function(){var t=this._socket;t&&(t.readyState===1||t.readyState===0)&&t.close(),this._resetState(),r.prototype.unsubscribe.call(this)},n}(q);function ne(r){return new He(r)}function Ve(r){return r.event==="propertyInspectorDidDisappear"}function Ye(r,n){return{event:r,uuid:n}}function J(r,n){return{event:"setSettings",context:r,payload:n}}var y=null;function pt(r,n,t,e,o){var c,s,u;y=ne(`ws://127.0.0.1:${r}`);let i=JSON.parse(o),a=i.payload.settings;if(console.log(i),i.action==="eu.stumpa.telka.info"){document.getElementsByClassName("sdpi-wrapper")[1].removeAttribute("style");let p=document.getElementById("program");p.value=i.payload.settings.channelId||""}if(i.action==="eu.stumpa.telka.channel"){document.getElementsByClassName("sdpi-wrapper")[0].removeAttribute("style");let p=document.getElementById("label");p.innerText="Tla\u010D\xEDtko na ovlada\u010Di";let l=document.getElementById("value");l.min="0",l.max="9",l.value=(c=a.button)!=null?c:"",l.onchange=()=>{let f=+l.value;if(!(0<=f&&f<=9))return;let d=F(C({},a),{button:f});y==null||y.next(J(n,d))}}if(i.action==="eu.stumpa.telka.setchannel"){document.getElementsByClassName("sdpi-wrapper")[0].removeAttribute("style");let p=document.getElementById("label");p.innerText="ID kan\xE1lu";let l=document.getElementById("value");l.type="string",l.maxLength=20,l.value=(s=a.channel)!=null?s:"",l.onchange=()=>{let f=l.value;if(!(f.length<=20))return;let d=F(C({},a),{channel:f});y==null||y.next(J(n,d))}}if(i.action==="eu.stumpa.telka.setvolume"){document.getElementsByClassName("sdpi-wrapper")[0].removeAttribute("style");let p=document.getElementById("label");p.innerText="Hlasitost";let l=document.getElementById("value");l.min="0",l.max="20",l.value=(u=a.volume)!=null?u:"",l.onchange=()=>{let f=+l.value;if(!(0<=f&&f<=20))return;let d=F(C({},a),{volume:f});y==null||y.next(J(n,d))}}y.next(Ye(t,n)),y.pipe(re(Ve),oe(1)).subscribe()}window.connectElgatoStreamDeckSocket=pt;})();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
